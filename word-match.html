<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="shortcut icon" type="image/x-icon" href="C:\website\website\image\logo.png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù„Ø¹Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© - Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª</title>
  <style>
    body {
      background-color: #f0f8ff;
      color: #007BFF;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      transition: background-color 0.3s, color 0.3s;
    }
    .navbar {
      background-color: #007BFF;
      padding: 10px 0;
      text-align: center;
    }
    .navbar a {
      color: white;
      text-decoration: none;
      margin: 0 20px;
      font-weight: bold;
      font-size: 18px;
    }
    .navbar a:hover {
      text-decoration: underline;
    }
    .mode-toggle {
      color: white;
      font-weight: bold;
      cursor: pointer;
      margin-left: 20px;
    }
    .content {
      padding: 20px;
      text-align: center;
    }
    .select-container {
      margin-bottom: 20px;
    }
    .game-section {
      display: none;
      margin-top: 20px;
    }
    .card {
      background-color: #ffffff;
      border: 2px solid #007BFF;
      padding: 10px;
      display: inline-block;
      margin: 10px;
      cursor: pointer;
      min-width: 80px;
    }
    .card.matched {
      background-color: #b3d9ff;
      pointer-events: none;
    }
    button {
      background-color: #007BFF;
      color: white;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      margin-top: 20px;
    }
    .message {
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
    .score {
      font-size: 20px;
      font-weight: bold;
      color: #007BFF;
      margin-bottom: 15px;
    }
    .timer {
      font-size: 18px;
      font-weight: bold;
      color: #FF4500;
      margin-bottom: 10px;
    }

    /* ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
    body.night-mode {
      background-color: #333;
      color: #fff;
    }
    body.night-mode .navbar {
      background-color: #222;
    }
    body.night-mode .card {
      background-color: #555;
      border-color: #fff;
    }
    body.night-mode button {
      background-color: #444;
    }
    body.night-mode .message {
      color: #fff;
    }
    body.night-mode .score,
    body.night-mode .timer {
      color: #ffeb3b;
    }
  </style>
</head>
<body>

  <div class="navbar">
    <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    <a href="vocabulary-quiz.html">Ø¥Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª</a>
    <a href="sentence-arrangment.html">ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ù…Ù„</a>
    <span class="mode-toggle" onclick="toggleMode()">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</span>
  </div>

  <div class="content">
    <h1>ğŸŒ Ù„Ø¹Ø¨Ø© Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª</h1>
    <div class="select-container">
      <label for="language">Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©:</label>
      <select id="language">
        <option value="en">Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</option>
        <option value="fr">Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©</option>
        <option value="es">Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠØ©</option>
        <option value="zh">Ø§Ù„ØµÙŠÙ†ÙŠØ©</option>
        <option value="ru">Ø§Ù„Ø±ÙˆØ³ÙŠØ©</option>
        <option value="tr">Ø§Ù„ØªØ±ÙƒÙŠØ©</option>
      </select>

      <label for="level" style="margin-left:20px;">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</label>
      <select id="level">
        <option value="easy">Ø³Ù‡Ù„</option>
        <option value="medium">Ù…ØªÙˆØ³Ø·</option>
        <option value="hard">ØµØ¹Ø¨</option>
      </select>

      <button onclick="startGame()">Ø§Ø¨Ø¯Ø£</button>
    </div>

    <div class="game-section" id="game">
      <div id="score" class="score">Ø§Ù„Ù†Ù‚Ø§Ø·: 0</div>
      <div id="timer" class="timer">Ø§Ù„ÙˆÙ‚Øª: 0 Ø«Ø§Ù†ÙŠØ©</div>
      <h2>Ø·Ø§Ø¨Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø§Øª</h2>
      <div id="cards-container"></div>
      <div id="message" class="message"></div>
      <button onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
    </div>
  </div>

  <script>
    const wordSets = {
      en: [['cat', 'Ù‚Ø·'], ['apple', 'ØªÙØ§Ø­Ø©'], ['car', 'Ø³ÙŠØ§Ø±Ø©'], ['book', 'ÙƒØªØ§Ø¨'], ['house', 'Ù…Ù†Ø²Ù„'],
        ['dog', 'ÙƒÙ„Ø¨'], ['water', 'Ù…Ø§Ø¡'], ['sun', 'Ø´Ù…Ø³'], ['tree', 'Ø´Ø¬Ø±Ø©'], ['school', 'Ù…Ø¯Ø±Ø³Ø©'],
        ['bread', 'Ø®Ø¨Ø²'], ['milk', 'Ø­Ù„ÙŠØ¨'], ['chair', 'ÙƒØ±Ø³ÙŠ'], ['table', 'Ø·Ø§ÙˆÙ„Ø©'], ['phone', 'Ù‡Ø§ØªÙ'],
        ['window', 'Ù†Ø§ÙØ°Ø©'], ['door', 'Ø¨Ø§Ø¨'], ['pen', 'Ù‚Ù„Ù…'], ['teacher', 'Ù…Ø¹Ù„Ù…'], ['student', 'Ø·Ø§Ù„Ø¨']],

      // (Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ø£Ø®Ø±Ù‰)
    };

    const messages = {
      en: { correct: 'Correct!', incorrect: 'Wrong!' },
      // (Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ø£Ø®Ø±Ù‰)
    };

    let selectedLang = 'en';
    let selectedLevel = 'easy';
    let firstCard = null;
    let score = 0;
    let timer;
    let timeLeft;

    function startGame() {
      selectedLang = document.getElementById('language').value;
      selectedLevel = document.getElementById('level').value;
      score = 0;
      updateScore();
      document.getElementById('game').style.display = 'block';
      document.getElementById('message').innerText = '';
      startTimer();
      generateCards();
    }

    function updateScore() {
      document.getElementById('score').innerText = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`;
    }

    function startTimer() {
      clearInterval(timer);
      if (selectedLevel === 'easy') timeLeft = 60;
      else if (selectedLevel === 'medium') timeLeft = 90;
      else if (selectedLevel === 'hard') timeLeft = 120;

      document.getElementById('timer').innerText = `Ø§Ù„ÙˆÙ‚Øª: ${timeLeft} Ø«Ø§Ù†ÙŠØ©`;

      timer = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').innerText = `Ø§Ù„ÙˆÙ‚Øª: ${timeLeft} Ø«Ø§Ù†ÙŠØ©`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          endGame();
        }
      }, 1000);
    }

    function endGame() {
      document.getElementById('message').innerText = 'â° Ø£Ø±Ø¬Ùˆ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©';
      document.getElementById('message').className = 'message incorrect';
      Array.from(document.querySelectorAll('.card')).forEach(card => {
        card.onclick = null;
      });
    }

    function resetGame() {
      clearInterval(timer);
      document.getElementById('game').style.display = 'none';
      document.getElementById('cards-container').innerHTML = '';
      document.getElementById('message').innerText = '';
    }

    function generateCards() {
      const container = document.getElementById('cards-container');
      container.innerHTML = '';
      document.getElementById('message').innerText = '';
      firstCard = null;

      let limit = 5;
      if (selectedLevel === 'medium') limit = 10;
      else if (selectedLevel === 'hard') limit = 20;

      const words = wordSets[selectedLang].slice(0, limit);
      let pairs = [];

      words.forEach(([foreign, arabic]) => {
        pairs.push({ text: foreign, pair: arabic });
        pairs.push({ text: arabic, pair: foreign });
      });

      pairs = pairs.sort(() => 0.5 - Math.random());

      pairs.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerText = item.text;
        card.dataset.pair = item.pair;
        card.onclick = () => selectCard(card);
        container.appendChild(card);
      });
    }

    function selectCard(card) {
      if (card.classList.contains('matched') || card === firstCard || timeLeft <= 0) return;

      card.style.backgroundColor = '#cce6ff';

      if (!firstCard) {
        firstCard = card;
      } else {
        const messageEl = document.getElementById('message');
        if (card.dataset.pair === firstCard.innerText || firstCard.dataset.pair === card.innerText) {
          card.classList.add('matched');
          firstCard.classList.add('matched');
          score++;
          updateScore();
          messageEl.innerText = messages[selectedLang].correct;
          messageEl.className = 'message correct';
          firstCard = null;
          checkWinCondition();
        } else {
          const tempFirst = firstCard;
          messageEl.innerText = messages[selectedLang].incorrect;
          messageEl.className = 'message incorrect';
          setTimeout(() => {
            card.style.backgroundColor = '#fff';
            tempFirst.style.backgroundColor = '#fff';
            messageEl.innerText = '';
          }, 1000);
          firstCard = null;
        }
      }
    }

    function checkWinCondition() {
      const allMatched = Array.from(document.querySelectorAll('.card')).every(card =>
        card.classList.contains('matched')
      );
      if (allMatched) {
        clearInterval(timer);
        document.getElementById('message').innerText = 'ğŸ‰ Ù„Ù‚Ø¯ Ù†Ø¬Ø­Øª!';
        document.getElementById('message').className = 'message correct';
      }
    }

    function toggleMode() {
      document.body.classList.toggle('night-mode');
      const modeBtn = document.querySelector('.mode-toggle');
      modeBtn.innerText = document.body.classList.contains('night-mode') ? 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ' : 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ';
    }
  </script>
</body>
</html>
